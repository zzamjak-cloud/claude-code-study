rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // 개발/테스트용: 인증된 사용자는 모든 데이터 읽기/쓰기 가능
    // 프로덕션에서는 더 엄격한 규칙으로 변경 필요

    // 워크스페이스
    match /workspaces/{workspaceId} {
      allow read, write: if request.auth != null;
    }

    // 팀원
    match /teams/{workspaceId}/members/{memberId} {
      allow read, write: if request.auth != null;
    }

    // 일정
    match /schedules/{workspaceId}/items/{scheduleId} {
      allow read, write: if request.auth != null;
    }

    // 특이사항
    match /events/{workspaceId}/items/{eventId} {
      allow read, write: if request.auth != null;
    }
  }
}
